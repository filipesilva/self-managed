<div
  class="item-container"
  [class.selected]="selected"
  [class.editing]="(editMode || forceEdit)"
  [ngClass]="this.state | async"
>
  <div
    class="content"
    (tap)="(selected || !item) && showEditForm()"
  >
    <div
      class="item-string"
      [class.hidden]="(editMode || forceEdit)"
    >
      {{item ? item.toString() : ''}}
    </div>

    <div
      class="edit-container"
      [class.hidden]="!(editMode || forceEdit)"
    >
      <form class="item-form">
        <mat-form-field
          class="full-width"
          [floatLabel]="'never'"
          [ngClass]="this.textStyle"
        >
          <textarea
            cdkTextareaAutosize
            cdkAutosizeMinRows="1"
            #itemInput
            matInput
            [formControl]="itemFormControl"
            placeholder="I intend to..."
          >
        </textarea>
          <mat-error>You must enter something</mat-error>
        </mat-form-field>
      </form>
    </div>
  </div>

  <div class="actions">
    <div
      class="display-actions"
      [class.hidden]="(editMode || forceEdit) || !selected"
    >
      <button
        mat-icon-button
        matTooltip="Reschedule this item"
        aria-label="Reschedule this item"
      >
        <mat-icon aria-label="Reschedule">query_builder</mat-icon>
      </button>
      <button
        mat-icon-button
        matTooltip="Delete this item [delete]"
        aria-label="Delete this item"
        (click)="delete()"
      >
        <mat-icon aria-label="Delete">delete</mat-icon>
      </button>
    </div>

    <div
      class="edit-actions"
      [class.hidden]="!(editMode || forceEdit)"
    >
      <button
        mat-icon-button
        matTooltip="Submit input [enter]"
        aria-label="Submit input"
        (click)="submit()"
      >
        <mat-icon aria-label="Submit">done</mat-icon>
      </button>
      <button
        mat-icon-button
        matTooltip="Cancel input [escape]"
        aria-label="Cancel input"
        (click)="reset()"
      >
        <mat-icon aria-label="Cancel">clear</mat-icon>
      </button>
    </div>
  </div>
</div>
